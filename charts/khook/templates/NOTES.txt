1. Access metrics endpoint by running these commands:
  export POD_NAME=$(kubectl get pods --namespace {{ include "khook.namespace" . }} -l "app.kubernetes.io/name={{ include "khook.name" . }},app.kubernetes.io/instance={{ .Release.Name }}" -o jsonpath="{.items[0].metadata.name}")
  echo "Visit http://127.0.0.1:8080/metrics to view metrics"
  kubectl --namespace {{ include "khook.namespace" . }} port-forward $POD_NAME 8080:8080

2. Check the controller status:
   kubectl get pods -n {{ include "khook.namespace" . }} -l app.kubernetes.io/name={{ include "khook.name" . }}

3. View controller logs:
   kubectl logs -n {{ include "khook.namespace" . }} -l app.kubernetes.io/name={{ include "khook.name" . }}

4. Create a sample Hook resource:
   kubectl apply -f - <<EOF
   apiVersion: kagent.dev/v1alpha2
   kind: Hook
   metadata:
     name: sample-hook
     namespace: default
   spec:
     eventConfigurations:
     - eventType: "pod-restart"
       agentId: "kagent/pod-restart-agent"
       prompt: |
         AUTONOMOUS MODE: A pod has restarted. Analyze the cause and implement fixes immediately.

         INSTRUCTIONS:
         • Use all available tools to diagnose and resolve the issue
         • Annotate fixed resources with: kagentFix=<timestamp>
         • If patching fails: delete and recreate resources
         • Never ask for permission - assume autonomous execution
         • Complete remediation without human approval
   EOF

5. Check Hook status:
   kubectl get hooks -A
   kubectl describe hook sample-hook -n default